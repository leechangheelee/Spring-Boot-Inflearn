## **스프링 부트 활용**
  * 스프링 데이터 - 소개
    * SQL DB
      * 인메모리 데이터베이스 지원
      * DataSource 설정
      * DBCP 설정
      * JDBC 사용하기
      * 스프링 데이터 JPA 사용하기
      * jOOQ 사용하기
      * 데이터베이스 초기화
      * 데이터베이스 마이그레이션 툴 연동하기
    * NoSQL
      * Redis (Key/Value)
      * MongoDB (Document)
      * Jeo4J (Graph)
***
  * 스프링 데이터 - 인메모리 데이터베이스
    * 지원하는 인-메모리 데이터베이스
      * __H2 (추천, 콘솔 때문에...)__
      * HSQL
      * Derby
    * Spring-JDBC가 클래스패스에 있으면 자동 설정이 필요한 빈을 설정해줌 (빈 주입받아 사용하면 됨)
      * DataSource
      * JdbcTemplate
    * 인-메모리 데이터베이스 기본 연결 정보 확인하는 방법
      * URL: "testdb"
      * username: "sa"
      * password: ""
    * H2 콘솔 사용하는 방법
      * spring-boot-devtools를 추가하거나
      * spring.h2.console.enabled=true 만 추가.
        ```
        #application.properties
        spring.h2.console.enabled=true
        ```
      * /h2-console로 접속 (이 path도 바꿀 수 있음)  
        `http://localhost:8080/h2-console`
    ```xml
    <!--
    pom.xml
    JDBC, H2 추가
    -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-jdbc</artifactId>
    </dependency>
    <dependency>
        <groupId>com.h2database</groupId>
        <artifactId>h2</artifactId>
        <scope>runtime</scope>
    </dependency>
    ```
    ```java
    /* H2Runner.java */
    ...
    @Component
    public class H2Runner implements ApplicationRunner {

        @Autowired
        DataSource dataSource;

        @Autowired
        JdbcTemplate jdbcTemplate;

        @Override
        public void run(ApplicationArguments args) throws Exception {
            try (Connection connection = dataSource.getConnection()) {
                // ↑ connection 이라는 리소스를 아래 블럭 안에서 사용하고
                // 안에서 무슨 문제가 생기든 꼭 정리를 해줌
                // 명시적으로 finally 블럭을 써서 정리할 (close 등) 필요 없음 (Java8 기능)

                System.out.println("URL : " + connection.getMetaData().getURL());
                System.out.println("USR NAME : " + connection.getMetaData().getUserName());

                Statement statement = connection.createStatement();
                String sql = "CREATE TABLE USER(ID INTEGER NOT NULL, name VARCHAR(255), PRIMARY KEY (id))";
                statement.executeUpdate(sql);
            }

            // 스프링 JDBC가 제공하는 JdbcTemplate을 사용하면
            // 훨씬 코드를 간결하고 안전하게 SQL 사용가능
            // 예외 발생시 좀 더 가독성 좋은 에러메세지 확인 가능
            jdbcTemplate.execute("INSERT INTO USER VALUES (1, 'changhee')");
        }
    }
    ```
***
  * 스프링 데이터 - MySQL
    * 지원하는 DBCP
      * DBCP
      * HikariCP (기본)
        * https://github.com/brettwooldridge/HikariCP#frequently-used
      * Tomcat CP
        * https://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html
      * Commons DBCP2
        * https://commons.apache.org/proper/commons-dbcp/
